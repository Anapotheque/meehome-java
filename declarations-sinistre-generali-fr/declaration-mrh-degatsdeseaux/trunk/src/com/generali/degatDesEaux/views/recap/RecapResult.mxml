<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" styleName="PanelRecap" creationComplete="init()">
	<mx:Script>
		<![CDATA[
			import com.generali.degatDesEaux.utils.EnumTypePersonneTouche;
			import com.generali.events.ui.NextSectionEvent;
			import com.generali.views.Insured;
			import com.generali.model.AddressVO;
			import com.generali.degatDesEaux.model.AppModel;
			[Bindable]
			private var _appModel:AppModel = AppModel.getInstance();
			private function init():void {
				parentApplication.addEventListener(NextSectionEvent.TO_RECAP,handle)
				bindWithModel();
			}
			private function handle(e:NextSectionEvent):void {
				bindWithModel();
			}
			private function bindWithModel():void {
				if (_appModel.result.other_person==EnumTypePersonneTouche.OUI)
				{	
					txtSomebodyElse.text = "oui";
				}
				if (_appModel.result.other_person==EnumTypePersonneTouche.NON)
				{
						txtSomebodyElse.text = "non";
				} 
				if (_appModel.result.other_person==EnumTypePersonneTouche.JE_NE_SAIS_PAS)
				{
					txtSomebodyElse.text = "Ne sais pas";
				} 
			}
			
		]]>
	</mx:Script>
	
	<mx:VBox>
				<mx:HBox>
					<mx:Label  text="Un tiers a-t-il subi des dommages ?" styleName="simple" />
					<mx:Label width="135"  id="txtSomebodyElse" styleName="simpleBold" />
				</mx:HBox>
				<mx:VBox height="{((_appModel.result.other_person!=1)?0:100)}">
					<mx:HBox>
						<mx:HBox>
							<mx:Label width="135"  text="Nom :" styleName="simple" />
							<mx:Label width="135"  text="{_appModel.result.last_name}" styleName="simpleBold" />
						</mx:HBox>
						<mx:Spacer width="5"/>
						<mx:HBox>
							<mx:Label width="135"  text="PrÃ©nom :" styleName="simple" />
							<mx:Label width="135"  text="{_appModel.result.first_name}" styleName="simpleBold" />
						</mx:HBox>
					</mx:HBox>
					<mx:HBox>
						<mx:Label width="135"  text="Adresse :" styleName="simple" />
						<mx:Label width="100%"  text="{_appModel.result.address.addressVal}" styleName="simpleBold"/>
					</mx:HBox>
					<mx:HBox>
					<mx:HBox>
						<mx:Label width="135"  text="Code postal :" styleName="simple" />
						<mx:Label width="135"  text="{_appModel.result.address.postal_code}" styleName="simpleBold" />
					</mx:HBox>
					<mx:Spacer width="5"/>
					<mx:HBox>			
						<mx:Label width="135"  text="Ville :" styleName="simple" />
						<mx:Label width="135"  text="{_appModel.result.address.city}" styleName="simpleBold" />
					</mx:HBox>
					
				</mx:HBox>
					<mx:HBox>			
						<mx:Label width="135"  text="Assureur :" styleName="simple" />
						<mx:Label width="135"  text="{_appModel.result.insurer}" styleName="simpleBold" />
					</mx:HBox>
				</mx:VBox>
				<mx:HBox>
					<mx:Label  text="Avez-vous subi des dommages ?" styleName="simple" />
					<mx:Label width="135"  text="{((_appModel.result.has_damage)?'oui':'non')}" styleName="simpleBold" />
				</mx:HBox>
				
		</mx:VBox>
</mx:Panel>
